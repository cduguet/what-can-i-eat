{
  "timestamp": "2025-09-07T12:15:58.595Z",
  "testConfig": {
    "testMenuItems": [
      {
        "id": "1",
        "name": "Bruschetta with tomatoes and basil",
        "description": "Fresh tomatoes and basil on toasted bread",
        "price": "$8",
        "category": "appetizer",
        "rawText": "Bruschetta with tomatoes and basil - $8"
      },
      {
        "id": "2",
        "name": "Fried calamari with marinara sauce",
        "description": "Crispy fried squid rings with marinara dipping sauce",
        "price": "$12",
        "category": "appetizer",
        "rawText": "Fried calamari with marinara sauce - $12"
      },
      {
        "id": "3",
        "name": "Caesar salad with croutons and parmesan",
        "description": "Romaine lettuce with caesar dressing, croutons and parmesan cheese",
        "price": "$10",
        "category": "appetizer",
        "rawText": "Caesar salad with croutons and parmesan - $10"
      },
      {
        "id": "4",
        "name": "Grilled salmon with lemon butter",
        "description": "Fresh Atlantic salmon grilled with lemon butter sauce",
        "price": "$24",
        "category": "main",
        "rawText": "Grilled salmon with lemon butter - $24"
      },
      {
        "id": "5",
        "name": "Vegetarian pasta primavera",
        "description": "Pasta with fresh seasonal vegetables",
        "price": "$16",
        "category": "main",
        "rawText": "Vegetarian pasta primavera - $16"
      }
    ],
    "customDietaryRestrictions": {
      "dietaryType": "custom",
      "customRestrictions": "No gluten, no dairy, vegetarian, no spicy food",
      "spanishRestrictions": "Sin gluten, sin l√°cteos, vegetariano, sin comida picante",
      "lastUpdated": "2025-09-07T12:15:46.998Z",
      "onboardingCompleted": true
    }
  },
  "results": [
    {
      "success": true,
      "results": [
        {
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "good",
          "confidence": 0.85,
          "explanation": "Bruschetta with tomatoes and basil analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$8"
        },
        {
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "caution",
          "confidence": 0.87,
          "explanation": "Fried calamari with marinara sauce analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$12"
        },
        {
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "good",
          "confidence": 0.89,
          "explanation": "Caesar salad with croutons and parmesan analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$10"
        },
        {
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "caution",
          "confidence": 0.9099999999999999,
          "explanation": "Grilled salmon with lemon butter analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$24"
        },
        {
          "itemName": "Vegetarian pasta primavera",
          "suitability": "good",
          "confidence": 0.9299999999999999,
          "explanation": "Vegetarian pasta primavera analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$16"
        }
      ],
      "confidence": 0.87,
      "message": "Local gemini analysis completed successfully",
      "requestId": "local-gemini-1757247346999",
      "processingTime": 0,
      "formatValid": true,
      "testName": "Gemini Local",
      "provider": "gemini",
      "backend": "local"
    },
    {
      "success": true,
      "results": [
        {
          "itemId": "item_1",
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "careful",
          "explanation": "The bread used for bruschetta typically contains gluten.  While the toppings are vegetarian and non-spicy, the gluten-free status needs confirmation.",
          "questionsToAsk": [
            "Is the bread used for the bruschetta gluten-free?"
          ],
          "confidence": 0.9,
          "concerns": [
            "Gluten in bread"
          ]
        },
        {
          "itemId": "item_2",
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "avoid",
          "explanation": "Calamari is seafood, making this item non-vegetarian.",
          "questionsToAsk": [],
          "confidence": 1,
          "concerns": [
            "Contains seafood (not vegetarian)"
          ]
        },
        {
          "itemId": "item_3",
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "avoid",
          "explanation": "This salad contains both dairy (parmesan cheese) and gluten (croutons).",
          "questionsToAsk": [],
          "confidence": 1,
          "concerns": [
            "Contains dairy (parmesan), contains gluten (croutons)"
          ]
        },
        {
          "itemId": "item_4",
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "avoid",
          "explanation": "Salmon is not vegetarian, and the lemon butter sauce likely contains dairy.",
          "questionsToAsk": [],
          "confidence": 0.95,
          "concerns": [
            "Contains seafood (not vegetarian), contains dairy (butter)"
          ]
        },
        {
          "itemId": "item_5",
          "itemName": "Vegetarian pasta primavera",
          "suitability": "careful",
          "explanation": "While vegetarian and non-spicy, pasta typically contains gluten.  The sauce may also contain hidden dairy ingredients (e.g., in some cheeses or cream-based sauces).",
          "questionsToAsk": [
            "Is the pasta gluten-free?  Are there any dairy products in the sauce or pasta?"
          ],
          "confidence": 0.85,
          "concerns": [
            "Gluten in pasta, potential hidden dairy in sauce"
          ]
        }
      ],
      "confidence": 0.9,
      "message": "Analysis complete",
      "requestId": "supabase-gemini-text-1757247346999",
      "processingTime": 4368,
      "provider": "gemini",
      "backend": "supabase",
      "formatValid": true,
      "testName": "Gemini Supabase"
    },
    {
      "success": true,
      "results": [
        {
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "good",
          "confidence": 0.85,
          "explanation": "Bruschetta with tomatoes and basil analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$8"
        },
        {
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "caution",
          "confidence": 0.87,
          "explanation": "Fried calamari with marinara sauce analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$12"
        },
        {
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "good",
          "confidence": 0.89,
          "explanation": "Caesar salad with croutons and parmesan analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$10"
        },
        {
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "caution",
          "confidence": 0.9099999999999999,
          "explanation": "Grilled salmon with lemon butter analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$24"
        },
        {
          "itemName": "Vegetarian pasta primavera",
          "suitability": "good",
          "confidence": 0.9299999999999999,
          "explanation": "Vegetarian pasta primavera analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$16"
        }
      ],
      "confidence": 0.87,
      "message": "Local vertex analysis completed successfully",
      "requestId": "local-vertex-1757247351373",
      "processingTime": 0,
      "formatValid": true,
      "testName": "Vertex Local",
      "provider": "vertex",
      "backend": "local"
    },
    {
      "success": true,
      "results": [
        {
          "itemId": "1",
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "avoid",
          "explanation": "Bruschetta is served on toasted bread, which contains gluten.",
          "questionsToAsk": [
            "Is the bread gluten-free?",
            "Can the bruschetta be served on a gluten-free alternative?"
          ],
          "confidence": 0.95,
          "concerns": [
            "Gluten"
          ]
        },
        {
          "itemId": "2",
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "avoid",
          "explanation": "Fried calamari is typically breaded or battered, which likely contains gluten. Also, it is not vegetarian.",
          "questionsToAsk": [
            "Is the calamari breaded or battered?",
            "If so, does the breading/batter contain gluten?"
          ],
          "confidence": 0.95,
          "concerns": [
            "Gluten",
            "Not vegetarian"
          ]
        },
        {
          "itemId": "3",
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "avoid",
          "explanation": "Caesar salad dressing often contains dairy. Croutons contain gluten, and parmesan cheese is dairy.",
          "questionsToAsk": [
            "Does the Caesar dressing contain dairy?",
            "Can the salad be made without croutons and parmesan cheese?",
            "Is there a dairy-free dressing option?"
          ],
          "confidence": 0.95,
          "concerns": [
            "Gluten",
            "Dairy"
          ]
        },
        {
          "itemId": "4",
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "avoid",
          "explanation": "Lemon butter sauce contains dairy. Also, it is not vegetarian.",
          "questionsToAsk": [
            "Is the lemon butter sauce made with real butter (dairy)?",
            "Can the salmon be grilled without the lemon butter sauce, or with an alternative sauce that is dairy-free?"
          ],
          "confidence": 0.95,
          "concerns": [
            "Dairy",
            "Not vegetarian"
          ]
        },
        {
          "itemId": "5",
          "itemName": "Vegetarian pasta primavera",
          "suitability": "careful",
          "explanation": "Pasta typically contains gluten. The sauce may contain dairy. Need to confirm ingredients.",
          "questionsToAsk": [
            "Is the pasta gluten-free?",
            "Does the sauce contain dairy?",
            "What kind of vegetables are used?"
          ],
          "confidence": 0.9,
          "concerns": [
            "Gluten",
            "Dairy"
          ]
        }
      ],
      "confidence": 0.9,
      "message": "Analysis complete",
      "requestId": "supabase-vertex-text-1757247351373",
      "processingTime": 4742,
      "provider": "vertex",
      "backend": "supabase",
      "formatValid": true,
      "testName": "Vertex Supabase"
    },
    {
      "success": true,
      "results": [],
      "confidence": 0.5,
      "message": "Could not parse AI response properly",
      "requestId": "supabase-gemini-image-1757247356118",
      "processingTime": 918,
      "provider": "gemini",
      "backend": "supabase",
      "testName": "Gemini Supabase Image",
      "isImageTest": true
    },
    {
      "success": true,
      "results": [],
      "confidence": 0.5,
      "message": "Could not parse AI response properly",
      "requestId": "supabase-vertex-image-1757247357038",
      "processingTime": 1554,
      "provider": "vertex",
      "backend": "supabase",
      "testName": "Vertex Supabase Image",
      "isImageTest": true
    }
  ],
  "summary": {
    "total": 6,
    "successful": 6,
    "failed": 0,
    "validFormat": 4,
    "averageResponseTime": 1930,
    "interfaceFixWorking": true,
    "formatConsistent": false
  }
}