{
  "timestamp": "2025-09-07T12:12:23.078Z",
  "testConfig": {
    "testMenuItems": [
      {
        "id": "1",
        "name": "Bruschetta with tomatoes and basil",
        "description": "Fresh tomatoes and basil on toasted bread",
        "price": "$8",
        "category": "appetizer",
        "rawText": "Bruschetta with tomatoes and basil - $8"
      },
      {
        "id": "2",
        "name": "Fried calamari with marinara sauce",
        "description": "Crispy fried squid rings with marinara dipping sauce",
        "price": "$12",
        "category": "appetizer",
        "rawText": "Fried calamari with marinara sauce - $12"
      },
      {
        "id": "3",
        "name": "Caesar salad with croutons and parmesan",
        "description": "Romaine lettuce with caesar dressing, croutons and parmesan cheese",
        "price": "$10",
        "category": "appetizer",
        "rawText": "Caesar salad with croutons and parmesan - $10"
      },
      {
        "id": "4",
        "name": "Grilled salmon with lemon butter",
        "description": "Fresh Atlantic salmon grilled with lemon butter sauce",
        "price": "$24",
        "category": "main",
        "rawText": "Grilled salmon with lemon butter - $24"
      },
      {
        "id": "5",
        "name": "Vegetarian pasta primavera",
        "description": "Pasta with fresh seasonal vegetables",
        "price": "$16",
        "category": "main",
        "rawText": "Vegetarian pasta primavera - $16"
      }
    ],
    "customDietaryRestrictions": {
      "dietaryType": "custom",
      "customRestrictions": "No gluten, no dairy, vegetarian, no spicy food",
      "spanishRestrictions": "Sin gluten, sin l√°cteos, vegetariano, sin comida picante",
      "lastUpdated": "2025-09-07T12:12:02.323Z",
      "onboardingCompleted": true
    }
  },
  "results": [
    {
      "success": true,
      "results": [
        {
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "good",
          "confidence": 0.85,
          "explanation": "Bruschetta with tomatoes and basil analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$8"
        },
        {
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "caution",
          "confidence": 0.87,
          "explanation": "Fried calamari with marinara sauce analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$12"
        },
        {
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "good",
          "confidence": 0.89,
          "explanation": "Caesar salad with croutons and parmesan analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$10"
        },
        {
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "caution",
          "confidence": 0.9099999999999999,
          "explanation": "Grilled salmon with lemon butter analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$24"
        },
        {
          "itemName": "Vegetarian pasta primavera",
          "suitability": "good",
          "confidence": 0.9299999999999999,
          "explanation": "Vegetarian pasta primavera analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$16"
        }
      ],
      "confidence": 0.87,
      "message": "Local gemini analysis completed successfully",
      "requestId": "local-gemini-1757247122325",
      "processingTime": 0,
      "formatValid": true,
      "testName": "Gemini Local",
      "provider": "gemini",
      "backend": "local"
    },
    {
      "success": true,
      "results": [
        {
          "itemId": "item_1",
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "careful",
          "explanation": "The bread used for bruschetta typically contains gluten.  While the toppings are vegetarian and non-spicy, the gluten-free status needs confirmation.",
          "questionsToAsk": [
            "Is the bread used for the bruschetta gluten-free?"
          ],
          "confidence": 0.9,
          "concerns": [
            "Gluten in bread"
          ]
        },
        {
          "itemId": "item_2",
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "avoid",
          "explanation": "Calamari is seafood, making this item non-vegetarian.",
          "questionsToAsk": [],
          "confidence": 1,
          "concerns": [
            "Contains seafood (not vegetarian)"
          ]
        },
        {
          "itemId": "item_3",
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "avoid",
          "explanation": "This salad contains both dairy (parmesan cheese) and gluten (croutons).",
          "questionsToAsk": [],
          "confidence": 1,
          "concerns": [
            "Contains dairy (parmesan), contains gluten (croutons)"
          ]
        },
        {
          "itemId": "item_4",
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "avoid",
          "explanation": "Salmon is not vegetarian, and the lemon butter sauce likely contains dairy.",
          "questionsToAsk": [],
          "confidence": 0.95,
          "concerns": [
            "Contains seafood (not vegetarian), contains dairy (butter)"
          ]
        },
        {
          "itemId": "item_5",
          "itemName": "Vegetarian pasta primavera",
          "suitability": "careful",
          "explanation": "This dish is vegetarian and non-spicy, but the pasta may contain gluten.  The sauce may also contain hidden dairy (e.g., in some cheese-based sauces).",
          "questionsToAsk": [
            "Is the pasta gluten-free?  Does the sauce contain any dairy products?"
          ],
          "confidence": 0.85,
          "concerns": [
            "Gluten in pasta, potential hidden dairy in sauce"
          ]
        }
      ],
      "confidence": 0.9,
      "message": "Analysis complete",
      "requestId": "supabase-gemini-text-1757247122325",
      "processingTime": 5708,
      "provider": "gemini",
      "backend": "supabase",
      "formatValid": true,
      "testName": "Gemini Supabase"
    },
    {
      "success": true,
      "results": [
        {
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "good",
          "confidence": 0.85,
          "explanation": "Bruschetta with tomatoes and basil analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$8"
        },
        {
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "caution",
          "confidence": 0.87,
          "explanation": "Fried calamari with marinara sauce analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$12"
        },
        {
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "good",
          "confidence": 0.89,
          "explanation": "Caesar salad with croutons and parmesan analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "appetizer",
          "price": "$10"
        },
        {
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "caution",
          "confidence": 0.9099999999999999,
          "explanation": "Grilled salmon with lemon butter analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$24"
        },
        {
          "itemName": "Vegetarian pasta primavera",
          "suitability": "good",
          "confidence": 0.9299999999999999,
          "explanation": "Vegetarian pasta primavera analysis for No gluten, no dairy, vegetarian, no spicy food",
          "category": "main",
          "price": "$16"
        }
      ],
      "confidence": 0.87,
      "message": "Local vertex analysis completed successfully",
      "requestId": "local-vertex-1757247128037",
      "processingTime": 0,
      "formatValid": true,
      "testName": "Vertex Local",
      "provider": "vertex",
      "backend": "local"
    },
    {
      "success": true,
      "results": [
        {
          "itemId": "1",
          "itemName": "Bruschetta with tomatoes and basil",
          "suitability": "avoid",
          "explanation": "Bruschetta is served on toasted bread, which contains gluten.",
          "questionsToAsk": [],
          "confidence": 0.99,
          "concerns": [
            "Gluten"
          ]
        },
        {
          "itemId": "2",
          "itemName": "Fried calamari with marinara sauce",
          "suitability": "avoid",
          "explanation": "Fried calamari is typically breaded, which would contain gluten. It is also not vegetarian.",
          "questionsToAsk": [],
          "confidence": 0.99,
          "concerns": [
            "Gluten",
            "Not Vegetarian"
          ]
        },
        {
          "itemId": "3",
          "itemName": "Caesar salad with croutons and parmesan",
          "suitability": "avoid",
          "explanation": "Caesar salad contains croutons (gluten) and parmesan cheese (dairy).",
          "questionsToAsk": [],
          "confidence": 0.99,
          "concerns": [
            "Gluten",
            "Dairy"
          ]
        },
        {
          "itemId": "4",
          "itemName": "Grilled salmon with lemon butter",
          "suitability": "avoid",
          "explanation": "Lemon butter sauce contains dairy.",
          "questionsToAsk": [],
          "confidence": 0.99,
          "concerns": [
            "Dairy"
          ]
        },
        {
          "itemId": "5",
          "itemName": "Vegetarian pasta primavera",
          "suitability": "careful",
          "explanation": "Pasta typically contains gluten. The dish is vegetarian, but the pasta type and preparation method need to be verified to ensure it is gluten-free and dairy-free.",
          "questionsToAsk": [
            "Is the pasta gluten-free?",
            "Is the pasta dairy-free?",
            "Are there any dairy products used in the preparation of the vegetables or sauce?"
          ],
          "confidence": 0.95,
          "concerns": [
            "Gluten",
            "Dairy"
          ]
        }
      ],
      "confidence": 0.9,
      "message": "Analysis complete",
      "requestId": "supabase-vertex-text-1757247128037",
      "processingTime": 3884,
      "provider": "vertex",
      "backend": "supabase",
      "formatValid": true,
      "testName": "Vertex Supabase"
    },
    {
      "success": true,
      "results": [],
      "confidence": 0.5,
      "message": "Could not parse AI response properly",
      "requestId": "supabase-gemini-image-1757247131926",
      "processingTime": 799,
      "provider": "gemini",
      "backend": "supabase",
      "testName": "Gemini Supabase Image",
      "isImageTest": true
    },
    {
      "success": true,
      "results": [],
      "confidence": 0.5,
      "message": "Could not parse AI response properly",
      "requestId": "supabase-vertex-image-1757247132727",
      "processingTime": 10349,
      "provider": "vertex",
      "backend": "supabase",
      "testName": "Vertex Supabase Image",
      "isImageTest": true
    }
  ],
  "summary": {
    "total": 6,
    "successful": 6,
    "failed": 0,
    "validFormat": 4,
    "averageResponseTime": 3457,
    "interfaceFixWorking": true,
    "formatConsistent": false
  }
}